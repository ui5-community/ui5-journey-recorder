<mvc:View
    controllerName="com.ui5.journeyrecorder.controller.StepPage"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:uxap="sap.uxap"
    xmlns:core="sap.ui.core"
    xmlns:recorder="com.ui5.journeyrecorder.control"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:code="sap.ui.codeeditor"
    xmlns:forms="sap.ui.layout.form"
>
    <uxap:ObjectPageLayout>
        <uxap:headerTitle>
            <uxap:ObjectPageHeader
                class="step-page-header"
                objectTitle="Step: {step>/control/controlId/id}"
            >
                <uxap:actions>
                    <Button
                        icon="sap-icon://thing-type"
                        text="Change step type"
                        tooltip="Change step type"
                        press="typeChange"
                    />
                    <Button
                        icon="sap-icon://survey"
                        text="Validate"
                    />
                </uxap:actions>
            </uxap:ObjectPageHeader>
        </uxap:headerTitle>
        <uxap:sections>
            <uxap:ObjectPageSection
                titleUppercase="false"
                title="Control"
            >
                <uxap:subSections>
                    <uxap:ObjectPageSubSection titleUppercase="false">
                        <uxap:blocks>
                            <VBox>
                                <HBox
                                    justifyContent="SpaceBetween"
                                    alignItems="Center"
                                >
                                    <ObjectStatus
                                        title="Control ID"
                                        text="{step>/control/controlId/id}"
                                    />
                                    <Checkbox
                                        text="Use ID for identification"
                                        selected="{step>/control/controlId/use}"
                                    />
                                </HBox>
                                <ObjectStatus
                                    title="Control Type"
                                    text="{step>/control/actionType}"
                                />
                            </VBox>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
            <uxap:ObjectPageSection
                titleUppercase="false"
                title="Control Attributes"
            >
                <uxap:subSections>
                    <uxap:ObjectPageSubSection titleUppercase="false">
                        <uxap:blocks>
                            <IconTabBar expanded="{device>/isNoPhone}">
                                <items>
                                    <IconTabFilter
                                        text="Properties"
                                        key="probs"
                                        count="{ path: 'step>/control/properties', formatter: '.getAttributeCount' }"
                                        visible="{  path: 'step>/control/properties', formatter: '.getAttributeVisibility' }"
                                    >
                                        <Table
                                            items="{ path: 'step>/control/properties', sorter: { path: 'name' } }"
                                        >
                                            <columns>
                                                <Column>
                                                    <Text text="Name" />
                                                </Column>
                                                <Column>
                                                    <Text text="Value" />
                                                </Column>
                                                <Column>
                                                    <Text text="Use" />
                                                </Column>
                                            </columns>
                                            <items>
                                                <ColumnListItem>
                                                    <cells>
                                                        <Text
                                                            text="{step>name}"
                                                        />
                                                        <Text
                                                            text="{step>value}"
                                                        />
                                                        <Checkbox
                                                            selected="{step>use}"
                                                        />
                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>
                                    </IconTabFilter>
                                    <IconTabFilter
                                        text="Bindings"
                                        key="binds"
                                        count="{  path:'step>/control/bindings', formatter: '.getAttributeCount' }"
                                        visible="{  path: 'step>/control/bindings', formatter: '.getAttributeVisibility' }"
                                    >
                                        <Table
                                            items="{ path: 'step>/control/bindings', sorter: { path: 'propertyName' } }"
                                        >
                                            <columns>
                                                <Column>
                                                    <Text
                                                        text="Property Name"
                                                    />
                                                </Column>
                                                <Column>
                                                    <Text text="Model Name" />
                                                </Column>
                                                <Column>
                                                    <Text text="Binding Path" />
                                                </Column>
                                                <Column>
                                                    <Text
                                                        text="Binding Value"
                                                    />
                                                </Column>
                                                <Column>
                                                    <Text text="Use" />
                                                </Column>
                                            </columns>
                                            <items>
                                                <ColumnListItem>
                                                    <cells>
                                                        <Text
                                                            text="{step>propertyName}"
                                                        />
                                                        <Text
                                                            text="{step>modelName}"
                                                        />
                                                        <Text
                                                            text="{step>propertyPath}"
                                                        />
                                                        <Text
                                                            text="{step>bindingValue}"
                                                        />
                                                        <Checkbox
                                                            selected="{step>use}"
                                                        />
                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>
                                    </IconTabFilter>
                                    <IconTabFilter
                                        text="i18n Texts"
                                        key="texts"
                                        count="{ path: 'step>/control/i18nTexts', formatter: '.getAttributeCount' }"
                                        visible="{ path: 'step>/control/i18nTexts', formatter: '.getAttributeVisibility' }"
                                    >
                                        <Table
                                            items="{path: 'step>/control/i18nTexts', sorter: { path: 'propertyName' } }"
                                        >
                                            <columns>
                                                <Column>
                                                    <Text
                                                        text="Property Name"
                                                    />
                                                </Column>
                                                <Column>
                                                    <Text text="Binding Path" />
                                                </Column>
                                                <Column>
                                                    <Text
                                                        text="Binding Value"
                                                    />
                                                </Column>
                                                <Column>
                                                    <Text text="Use" />
                                                </Column>
                                            </columns>
                                            <items>
                                                <ColumnListItem>
                                                    <cells>
                                                        <Text
                                                            text="{step>propertyName}"
                                                        />
                                                        <Text
                                                            text="{step>propertyPath}"
                                                        />
                                                        <Text
                                                            text="{step>bindingValue}"
                                                        />
                                                        <Checkbox
                                                            selected="{step>use}"
                                                        />
                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>
                                    </IconTabFilter>
                                </items>
                            </IconTabBar>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
            <uxap:ObjectPageSection
                titleUppercase="false"
                title="Code Preview"
            >
                <uxap:subSections>
                    <uxap:ObjectPageSubSection titleUppercase="false">
                        <uxap:blocks>
                            <Panel
                                width="auto"
                                expanded="true"
                                height="20rem"
                            >
                                <headerToolbar>
                                    <Toolbar>
                                        <ToolbarSpacer />
                                        <Checkbox text="Paged Style" />
                                        <Button
                                            icon="sap-icon://syntax"
                                            text="Test Framework"
                                            press="frameworkChange"
                                        />
                                        <Button
                                            text="Regenerate"
                                            icon="sap-icon://ai"
                                        />
                                    </Toolbar>
                                </headerToolbar>
                                <content>
                                    <code:CodeEditor
                                        type="{stepSetup>/codeStyle}"
                                        value="{stepSetup>/code}"
                                    />
                                </content>
                            </Panel>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
        </uxap:sections>
    </uxap:ObjectPageLayout>
</mvc:View>
